<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="cn.qkmango.tms.insertQuery.dao.InsertDao">


    <insert id="insertCourse">
        insert into t_course(name, credit, clazz, teacher,courseYear,term)
        values (#{name}, #{credit}, #{clazz}, #{teacher}, #{courseYear}, #{term})
    </insert>

    <insert id="insertCourseInfo" parameterType="list">
        insert into t_course_info(course, courseType, weekType, startWeek, endWeek, weekDay, begin, length, address)
        values
        <foreach collection="list" item="item" index="index" separator=",">
            (#{item.course},#{item.courseType},#{item.weekType},#{item.startWeek},#{item.endWeek},#{item.weekDay},#{item.begin},#{item.length},#{item.address})
        </foreach>
    </insert>

    <insert id="insertBuilding">
        insert into t_building (number, name, buildingType)
        values (#{number},#{name},#{buildingType});
    </insert>

    <insert id="insertRoom">
        insert into t_room (number, name, building)
        values (#{number},#{name},#{building});
    </insert>


    <select id="lastInsertId" resultType="int">
        SELECT LAST_INSERT_ID()
    </select>

    <insert id="insertYear">
        insert into t_year(year,name)
        values (#{year},CONCAT_WS('-',#{year},#{year}+1))
    </insert>


</mapper>