<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="cn.qkmango.tms.basicQuery.dao.DataBaseBasicQueryDao">


    <select id="getFacultyList" resultType="cn.qkmango.tms.domain.Faculty">
        SELECT id,name FROM t_faculty
    </select>

    <select id="getSpecializedListByFaculty" resultType="cn.qkmango.tms.domain.Specialized">
        SELECT specialized.id, specialized.name
        FROM t_specialized specialized,
             t_faculty faculty
        where specialized.faculty = faculty.id
          and faculty.id = #{faculty}
    </select>

    <select id="getClazzListBySpecialized" resultType="cn.qkmango.tms.domain.Clazz">
        SELECT clazz.id, clazz.name
        FROM t_specialized specialized,
             t_clazz clazz
        where clazz.specialized = specialized.id

          and specialized.id = #{specialized}
    </select>

    <select id="getCourseListByTeacherAndClazz" resultType="cn.qkmango.tms.domain.Course">
        SELECT course.id, course.name
        FROM t_teacher teacher,
             t_teach teach,
             t_course course,
             t_specialized specialized,
             t_clazz clazz

        WHERE teacher.id = #{teacher}
          and clazz.id = #{clazz}
          and teach.teacher = teacher.id
          and teach.course = course.id
          and course.specialized = specialized.id
          and clazz.specialized = specialized.id
    </select>

</mapper>